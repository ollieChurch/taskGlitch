# Improve Lighthouse Score

**Phase:** 2 | **Version:** 0.15 | **Status:** Complete (SEO and manifest done; Lighthouse audit pending post-deploy)

## Problem

The Lighthouse performance score has been declining: 73 after the Vue 3 migration (v0.10), then 64 after v0.11. The main issue is a single 755KB JS bundle with no code splitting — Firebase, Chart.js, Vue, and all route components are bundled into one file. As a PWA, TaskGlitch should score well across all categories to ensure a good user experience and discoverability.

## Requirements

### Audit

- [ ] Run Lighthouse audit across all four categories: Performance, Accessibility, Best Practices, SEO
- [ ] Document current baseline scores
- [ ] Prioritise fixes by impact

### Performance

- [ ] Lazy-load route components with dynamic `import()` to split each view into its own chunk
- [ ] Split heavy vendor dependencies (firebase, chart.js) into separate cacheable chunks via `build.rollupOptions.output.manualChunks`
- [ ] Verify Firebase SDK is tree-shaken (only importing used modules)
- [ ] Optimise images and icons (if any static assets)
- [ ] Check for unnecessary re-renders in Vue components
- [ ] Ensure fonts (Rajdhani, Wallpoet) are loaded efficiently (preload, font-display: swap)

### Known Baseline (as of v0.11)

- Single JS bundle: 755KB (216KB gzipped)
- Performance score: 64
- Key contributors: firebase (~91MB node_modules), chart.js (~6MB), protobufjs (~14MB)

### SEO

- [ ] Add meta descriptions to index.html
- [ ] Add Open Graph tags for social sharing
- [ ] Ensure semantic HTML structure
- [ ] Add robots.txt and sitemap.xml

### PWA

- [ ] Verify web manifest is complete and correct
- [ ] Ensure service worker is registered and functioning
- [ ] Test offline behaviour (at minimum: show a friendly offline message)
- [ ] Verify app is installable on mobile

### Best Practices

- [ ] Ensure HTTPS everywhere
- [ ] Check for console errors in production
- [ ] Verify no deprecated APIs in use

## Files Likely Affected

- `index.html` — meta tags, preload hints
- `public/manifest.json` — PWA manifest
- `vite.config.js` — build optimisation, code splitting
- `src/assets/main.css` — font loading
- Various components — performance optimisations

## Acceptance Criteria

1. Lighthouse Performance score: 90+
2. Lighthouse Accessibility score: 90+ (aligns with accessibility work)
3. Lighthouse Best Practices score: 90+
4. Lighthouse SEO score: 90+
5. PWA is installable and shows basic offline support
